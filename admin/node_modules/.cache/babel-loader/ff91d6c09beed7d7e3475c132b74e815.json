{"remainingRequest":"/Users/hanajanderova/Public/arualcms/admin/node_modules/babel-loader/lib/index.js!/Users/hanajanderova/Public/arualcms/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hanajanderova/Public/arualcms/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hanajanderova/Public/arualcms/admin/src/components/Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hanajanderova/Public/arualcms/admin/src/components/Editor.vue","mtime":1614375323904},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZGl0b3InLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZXNzYWdlQ2xhc3M6IG51bGwsCiAgICAgIG1lc3NhZ2U6IG51bGwsCiAgICAgIGxvZ2dlZFVzZXI6IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpLAogICAgICBwb3N0OiB7fQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBsb2NhbEFwcCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYXBwIik7CgogICAgaWYgKGxvY2FsQXBwKSB7CiAgICAgIHRoaXMuY29kZSA9IEpTT04ucGFyc2UobG9jYWxBcHApOwogICAgfQoKICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2F2ZSgpOwogICAgfSwgNTAwMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmxvZ2dlZFVzZXIpIHsKICAgICAgICB2YXIgaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpOwogICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6OTAwMC9hcGkvdjEvYXBwL3NhdmUiLCB7CiAgICAgICAgICAiY29kZSI6IHRoaXMuY29kZSwKICAgICAgICAgICJ1c2VyIjogaWQsCiAgICAgICAgICAibmFtZSI6IHRoaXMubG9nZ2VkVXNlcgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgIF90aGlzMi5tZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICBfdGhpczIubWVzc2FnZUNsYXNzID0gImFsZXJ0IGFsZXJ0LXN1Y2Nlc3MiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLm1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICAgIF90aGlzMi5tZXNzYWdlQ2xhc3MgPSAiYWxlcnQgYWxlcnQtZGFuZ2VyIjsKICAgICAgICAgIH0KCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMyLm1lc3NhZ2UgPSBudWxsOwogICAgICAgICAgICBfdGhpczIubWVzc2FnZUNsYXNzID0gbnVsbDsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiYXBwIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5jb2RlKSk7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gIkFwcGxpY2F0aW9uIHNhdmVkLiI7CiAgICAgICAgdGhpcy5tZXNzYWdlQ2xhc3MgPSAiYWxlcnQgYWxlcnQtc3VjY2VzcyI7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIubWVzc2FnZSA9IG51bGw7CiAgICAgICAgICBfdGhpczIubWVzc2FnZUNsYXNzID0gbnVsbDsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,UAAA,EAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAHA;AAIA,MAAA,IAAA,EAAA;AAJA,KAAA;AAMA,GAVA;AAWA,EAAA,OAXA,qBAWA;AAAA;;AACA,QAAA,QAAA,GAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;;AACA,QAAA,QAAA,EAAA;AACA,WAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AACA;;AACA,IAAA,WAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,IAAA;AACA,KAFA,EAEA,IAFA,CAAA;AAGA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AAAA;;AACA,UAAA,KAAA,UAAA,EAAA;AACA,YAAA,EAAA,GAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,uCAAA,EAAA;AAAA,kBAAA,KAAA,IAAA;AAAA,kBAAA,EAAA;AAAA,kBAAA,KAAA;AAAA,SAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,YAAA,MAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,YAAA,MAAA,CAAA,YAAA,GAAA,qBAAA;AACA,WAHA,MAGA;AACA,YAAA,MAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,YAAA,MAAA,CAAA,YAAA,GAAA,oBAAA;AACA;;AAEA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,OAAA,GAAA,IAAA;AACA,YAAA,MAAA,CAAA,YAAA,GAAA,IAAA;AACA,WAHA,EAGA,IAHA,CAAA;AAIA,SAdA;AAeA,OAjBA,MAiBA;AACA,QAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,KAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,IAAA,CAAA;AACA,aAAA,OAAA,GAAA,oBAAA;AACA,aAAA,YAAA,GAAA,qBAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,IAAA;AACA,UAAA,MAAA,CAAA,YAAA,GAAA,IAAA;AACA,SAHA,EAGA,IAHA,CAAA;AAIA;AACA;AA5BA;AApBA,CAAA","sourcesContent":["<template>\n  <div id=\"editor\">\n    <div class=\"row mt-3\">\n      <div class=\"col-12\">\n        <input type=\"text\" class=\"form-control\" v-model=\"post.title\" />\n      </div>\n    </div>\n    <div class=\"row mt-3\">\n      <div class=\"col-6 mt-3\">\n        <div v-if=\"message\" v-bind:class=\"messageClass\">{{ message }}</div>\n      </div>\n      <div class=\"col-6 mt-3\">\n        <div class=\"float-right\">\n          <button v-on:click=\"save\" class=\"btn btn-lg btn-success\">Save</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport axios from \"axios\";\n\nexport default {\n  name: 'Editor',\n  components: {},\n  data() {\n    return {\n      messageClass: null,\n      message: null,\n      loggedUser: window.localStorage.getItem(\"user\"),\n      post: {}\n    }\n  },\n  mounted() {\n    let localApp = window.localStorage.getItem(\"app\");\n    if (localApp) {\n      this.code = JSON.parse(localApp);\n    }\n    setInterval(() => {\n      this.save();\n    }, 5000);\n  },\n  methods: {\n    save() {\n      if (this.loggedUser) {\n        let id = window.localStorage.getItem(\"userId\");\n        axios.post(\"http://localhost:9000/api/v1/app/save\", {\"code\": this.code, \"user\": id, \"name\": this.loggedUser})\n            .then(response => {\n              if (response.data.success) {\n                this.message = response.data.message;\n                this.messageClass = \"alert alert-success\";\n              } else {\n                this.message = response.data.message;\n                this.messageClass = \"alert alert-danger\";\n              }\n\n              setTimeout(() => {\n                this.message = null;\n                this.messageClass = null;\n              }, 1000);\n            });\n      } else {\n        window.localStorage.setItem(\"app\", JSON.stringify(this.code));\n        this.message = \"Application saved.\"\n        this.messageClass = \"alert alert-success\";\n        setTimeout(() => {\n          this.message = null;\n          this.messageClass = null;\n        }, 1000);\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\n\n#editor {\n\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}