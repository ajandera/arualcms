{"remainingRequest":"/Users/hanajanderova/Public/arualcms/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hanajanderova/Public/arualcms/admin/src/components/Editor.vue?vue&type=style&index=0&id=e18b6dc6&lang=css&scoped=true&","dependencies":[{"path":"/Users/hanajanderova/Public/arualcms/admin/src/components/Editor.vue","mtime":1614419877396},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNlZGl0b3IgewoKfQoK"},{"version":3,"sources":["Editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;;AAEA","file":"Editor.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"editor\">\n    <div class=\"row mt-3\">\n      <div class=\"col-12\">\n        <input type=\"text\" class=\"form-control\" v-model=\"post.title\" />\n        <!-- Two-way Data-Binding -->\n        <quill-editor\n          ref=\"myQuillEditor\"\n          v-model=\"content\"\n          :options=\"editorOption\"\n          @blur=\"onEditorBlur($event)\"\n          @focus=\"onEditorFocus($event)\"\n          @ready=\"onEditorReady($event)\"\n        />\n      </div>\n    </div>\n    <div class=\"row mt-3\">\n      <div class=\"col-6 mt-3\">\n        <div v-if=\"message\" v-bind:class=\"messageClass\">{{ message }}</div>\n      </div>\n      <div class=\"col-6 mt-3\">\n        <div class=\"float-right\">\n          <button v-on:click=\"save\" class=\"btn btn-lg btn-success\">Save</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport axios from \"axios\";\n\nimport 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport 'quill/dist/quill.bubble.css'\n\nimport { quillEditor } from 'vue-quill-editor'\n\nexport default {\n  name: 'Editor',\n  components: {\n    quillEditor\n  },\n  data() {\n    return {\n      messageClass: null,\n      message: null,\n      loggedUser: window.localStorage.getItem(\"user\"),\n      post: {},\n      content: '<h2>I am Example</h2>',\n      editorOption: {\n        // Some Quill options...\n      }\n    }\n  },\n  mounted() {\n    let localApp = window.localStorage.getItem(\"app\");\n    if (localApp) {\n      this.code = JSON.parse(localApp);\n    }\n    setInterval(() => {\n      this.save();\n    }, 5000);\n  },\n  methods: {\n    save() {\n      if (this.loggedUser) {\n        let id = window.localStorage.getItem(\"userId\");\n        axios.post(\"http://localhost:9000/api/v1/app/save\", {\"code\": this.code, \"user\": id, \"name\": this.loggedUser})\n            .then(response => {\n              if (response.data.success) {\n                this.message = response.data.message;\n                this.messageClass = \"alert alert-success\";\n              } else {\n                this.message = response.data.message;\n                this.messageClass = \"alert alert-danger\";\n              }\n\n              setTimeout(() => {\n                this.message = null;\n                this.messageClass = null;\n              }, 1000);\n            });\n      } else {\n        window.localStorage.setItem(\"app\", JSON.stringify(this.code));\n        this.message = \"Application saved.\"\n        this.messageClass = \"alert alert-success\";\n        setTimeout(() => {\n          this.message = null;\n          this.messageClass = null;\n        }, 1000);\n      }\n    },\n    onEditorBlur(quill) {\n      console.log('editor blur!', quill)\n    },\n    onEditorFocus(quill) {\n      console.log('editor focus!', quill)\n    },\n    onEditorReady(quill) {\n      console.log('editor ready!', quill)\n    },\n    onEditorChange({ quill, html, text }) {\n      console.log('editor change!', quill, html, text)\n      this.content = html\n    }\n  },\n  computed: {\n    editor() {\n      return this.$refs.myQuillEditor.quill\n    }\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\n\n#editor {\n\n}\n\n</style>\n"]}]}