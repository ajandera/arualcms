{"remainingRequest":"/Users/hanajanderova/Public/arualcms/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hanajanderova/Public/arualcms/admin/src/components/Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hanajanderova/Public/arualcms/admin/src/components/Editor.vue","mtime":1614375323904},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZGl0b3InLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZXNzYWdlQ2xhc3M6IG51bGwsCiAgICAgIG1lc3NhZ2U6IG51bGwsCiAgICAgIGxvZ2dlZFVzZXI6IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpLAogICAgICBwb3N0OiB7fQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGxldCBsb2NhbEFwcCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYXBwIik7CiAgICBpZiAobG9jYWxBcHApIHsKICAgICAgdGhpcy5jb2RlID0gSlNPTi5wYXJzZShsb2NhbEFwcCk7CiAgICB9CiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIHRoaXMuc2F2ZSgpOwogICAgfSwgNTAwMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlKCkgewogICAgICBpZiAodGhpcy5sb2dnZWRVc2VyKSB7CiAgICAgICAgbGV0IGlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsKICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjkwMDAvYXBpL3YxL2FwcC9zYXZlIiwgeyJjb2RlIjogdGhpcy5jb2RlLCAidXNlciI6IGlkLCAibmFtZSI6IHRoaXMubG9nZ2VkVXNlcn0pCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VDbGFzcyA9ICJhbGVydCBhbGVydC1zdWNjZXNzIjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlQ2xhc3MgPSAiYWxlcnQgYWxlcnQtZGFuZ2VyIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gbnVsbDsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZUNsYXNzID0gbnVsbDsKICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhcHAiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmNvZGUpKTsKICAgICAgICB0aGlzLm1lc3NhZ2UgPSAiQXBwbGljYXRpb24gc2F2ZWQuIgogICAgICAgIHRoaXMubWVzc2FnZUNsYXNzID0gImFsZXJ0IGFsZXJ0LXN1Y2Nlc3MiOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5tZXNzYWdlID0gbnVsbDsKICAgICAgICAgIHRoaXMubWVzc2FnZUNsYXNzID0gbnVsbDsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Editor.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"editor\">\n    <div class=\"row mt-3\">\n      <div class=\"col-12\">\n        <input type=\"text\" class=\"form-control\" v-model=\"post.title\" />\n      </div>\n    </div>\n    <div class=\"row mt-3\">\n      <div class=\"col-6 mt-3\">\n        <div v-if=\"message\" v-bind:class=\"messageClass\">{{ message }}</div>\n      </div>\n      <div class=\"col-6 mt-3\">\n        <div class=\"float-right\">\n          <button v-on:click=\"save\" class=\"btn btn-lg btn-success\">Save</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport axios from \"axios\";\n\nexport default {\n  name: 'Editor',\n  components: {},\n  data() {\n    return {\n      messageClass: null,\n      message: null,\n      loggedUser: window.localStorage.getItem(\"user\"),\n      post: {}\n    }\n  },\n  mounted() {\n    let localApp = window.localStorage.getItem(\"app\");\n    if (localApp) {\n      this.code = JSON.parse(localApp);\n    }\n    setInterval(() => {\n      this.save();\n    }, 5000);\n  },\n  methods: {\n    save() {\n      if (this.loggedUser) {\n        let id = window.localStorage.getItem(\"userId\");\n        axios.post(\"http://localhost:9000/api/v1/app/save\", {\"code\": this.code, \"user\": id, \"name\": this.loggedUser})\n            .then(response => {\n              if (response.data.success) {\n                this.message = response.data.message;\n                this.messageClass = \"alert alert-success\";\n              } else {\n                this.message = response.data.message;\n                this.messageClass = \"alert alert-danger\";\n              }\n\n              setTimeout(() => {\n                this.message = null;\n                this.messageClass = null;\n              }, 1000);\n            });\n      } else {\n        window.localStorage.setItem(\"app\", JSON.stringify(this.code));\n        this.message = \"Application saved.\"\n        this.messageClass = \"alert alert-success\";\n        setTimeout(() => {\n          this.message = null;\n          this.messageClass = null;\n        }, 1000);\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\n\n#editor {\n\n}\n\n</style>\n"]}]}