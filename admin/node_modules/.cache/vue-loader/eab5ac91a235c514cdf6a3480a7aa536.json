{"remainingRequest":"/Users/hanajanderova/Public/arualcms/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hanajanderova/Public/arualcms/admin/src/components/Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hanajanderova/Public/arualcms/admin/src/components/Setting.vue","mtime":1614368990812},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hanajanderova/Public/arualcms/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTZXR0aW5nJywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHNldHRpbmc6IFtdLAogICAgICBtZXNzYWdlQ2xhc3M6IG51bGwsCiAgICAgIG1lc3NhZ2U6IG51bGwsCiAgICAgIGxvZ2dlZFVzZXI6IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IGxvY2FsID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzZXR0aW5nIik7CiAgICBpZiAobG9jYWwpIHsKICAgICAgdGhpcy5zZXR0aW5nID0gSlNPTi5wYXJzZShsb2NhbCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlKCkgewogICAgICBpZiAodGhpcy5sb2dnZWRVc2VyKSB7CiAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2xhaG9zdDo5MDAwL2FwaS92MS9zZXR0aW5nL3NhdmUiLCB7InNldHRpbmciOiB0aGlzLnNldHRpbmd9KQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzZXR0aW5nIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5nKSk7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gIlNldHRpbmdzIHNhdmVkLiIKICAgICAgICB0aGlzLm1lc3NhZ2VDbGFzcyA9ICJhbGVydCBhbGVydC1zdWNjZXNzIjsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9IG51bGw7CiAgICAgICAgICB0aGlzLm1lc3NhZ2VDbGFzcyA9IG51bGw7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0KICAgIH0sCiAgICBhZGQoKSB7CiAgICAgIHRoaXMuc2V0dGluZy5wdXNoKHsna2V5JzogJycsICd2YWx1ZSc6ICcnfSk7CiAgICB9LAogICAgcmVtb3ZlKGl0ZW0pIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5zZXR0aW5nLmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuc2V0dGluZy5zcGxpY2UoMSwgaW5kZXgpOwogICAgfQogIH0KfQo="},{"version":3,"sources":["Setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Setting.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"setting\" class=\"container\">\n    <div v-for=\"(item, index) in setting\" class=\"row mt-2\" v-bind:key=\"index\">\n      <div class=\"col-1\">\n        <button v-if=\"index === Object.keys(setting).length - 1\" v-on:click=\"add\" class=\"btn btn-warning\"><font-awesome-icon icon=\"plus\" /></button>\n      </div>\n      <div class=\"col-4\">\n        <input type=\"text\" v-model=\"item.key\" class=\"form-control\">\n      </div>\n      <div class=\"col-5\">\n        <input type=\"text\" v-model=\"item.value\" class=\"form-control\">\n      </div>\n      <div class=\"col-2\">\n        <div class=\"float-right\">\n          <button v-on:click=\"remove(item)\" class=\"btn btn-danger\"><font-awesome-icon icon=\"times\" /></button>\n        </div>\n      </div>\n    </div>\n    <div class=\"row mt-2\">\n      <div class=\"col-6\">\n        <div v-if=\"message\" v-bind:class=\"messageClass\">{{ message }}</div>\n      </div>\n      <div class=\"col-6\">\n        <div class=\"float-right\">\n          <button v-on:click=\"save\" class=\"btn btn-success\">Save</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport axios from \"axios\";\n\nexport default {\n  name: 'Setting',\n  components: {},\n  data: function() {\n    return {\n      setting: [],\n      messageClass: null,\n      message: null,\n      loggedUser: window.localStorage.getItem(\"user\")\n    }\n  },\n  mounted() {\n    let local = window.localStorage.getItem(\"setting\");\n    if (local) {\n      this.setting = JSON.parse(local);\n    }\n  },\n  methods: {\n    save() {\n      if (this.loggedUser) {\n        axios.post(\"http://loclahost:9000/api/v1/setting/save\", {\"setting\": this.setting})\n            .then(response => {\n              this.message = response.data;\n            });\n      } else {\n        window.localStorage.setItem(\"setting\", JSON.stringify(this.setting));\n        this.message = \"Settings saved.\"\n        this.messageClass = \"alert alert-success\";\n        setTimeout(() => {\n          this.message = null;\n          this.messageClass = null;\n        }, 1000);\n      }\n    },\n    add() {\n      this.setting.push({'key': '', 'value': ''});\n    },\n    remove(item) {\n      var index = this.setting.indexOf(item);\n      this.setting.splice(1, index);\n    }\n  }\n}\n</script>\n"]}]}